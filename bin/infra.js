#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const context_1 = require("../constructs/context");
const mb_infra_stack_1 = require("../stacks/mb-infra-stack");
const cdkApp = new cdk.App();
const context = new context_1.Context(cdkApp, "mb-infra-context");
const env = {
    account: process.env.CDK_DEFAULT_ACCOUNT,
    region: process.env.CDK_DEFAULT_REGION,
};
const tags = {
    env: context.stage,
    managedBy: "mb-infra",
};
new mb_infra_stack_1.MbInfraStack(cdkApp, 'MbInfra', {
    env,
    tags,
    stage: context.stage,
    ...context.config,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mcmEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmZyYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLG1EQUFnRDtBQUNoRCw2REFBd0Q7QUFFeEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFN0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxDQUFBO0FBQ3ZELE1BQU0sR0FBRyxHQUFvQjtJQUN6QixPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7SUFDeEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCO0NBQ3pDLENBQUM7QUFDRixNQUFNLElBQUksR0FBRztJQUNULEdBQUcsRUFBRSxPQUFPLENBQUMsS0FBSztJQUNsQixTQUFTLEVBQUUsVUFBVTtDQUN4QixDQUFDO0FBQ0YsSUFBSSw2QkFBWSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUU7SUFDaEMsR0FBRztJQUNILElBQUk7SUFDSixLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUs7SUFDcEIsR0FBRyxPQUFPLENBQUMsTUFBTTtDQUNwQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIjtcbmltcG9ydCAqIGFzIGNkayBmcm9tIFwiYXdzLWNkay1saWJcIjtcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwiLi4vY29uc3RydWN0cy9jb250ZXh0XCI7XG5pbXBvcnQgeyBNYkluZnJhU3RhY2sgfSBmcm9tIFwiLi4vc3RhY2tzL21iLWluZnJhLXN0YWNrXCI7XG5cbmNvbnN0IGNka0FwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbmNvbnN0IGNvbnRleHQgPSBuZXcgQ29udGV4dChjZGtBcHAsIFwibWItaW5mcmEtY29udGV4dFwiKVxuY29uc3QgZW52OiBjZGsuRW52aXJvbm1lbnQgPSB7XG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgICByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTixcbn07XG5jb25zdCB0YWdzID0ge1xuICAgIGVudjogY29udGV4dC5zdGFnZSxcbiAgICBtYW5hZ2VkQnk6IFwibWItaW5mcmFcIixcbn07XG5uZXcgTWJJbmZyYVN0YWNrKGNka0FwcCwgJ01iSW5mcmEnLCB7XG4gICAgZW52LFxuICAgIHRhZ3MsXG4gICAgc3RhZ2U6IGNvbnRleHQuc3RhZ2UsXG4gICAgLi4uY29udGV4dC5jb25maWcsXG59KTtcbiJdfQ==