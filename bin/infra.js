#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const context_1 = require("../constructs/context");
const mb_infra_stack_1 = require("../stacks/mb-infra-stack");
// @ts-ignore
const infra_config_1 = require("../../infra.config");
const cdkApp = new cdk.App();
const context = new context_1.Context(cdkApp, "mb-infra-context");
const env = {
    account: context.env.account,
    region: context.env.region,
};
const tags = {
    env: context.stage,
    managedBy: "mb-infra",
};
new mb_infra_stack_1.MbInfraStack(cdkApp, context.config.project.name, {
    env,
    tags,
    stage: context.stage,
    ...infra_config_1.default,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mcmEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmZyYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLG1EQUFnRDtBQUNoRCw2REFBd0Q7QUFDeEQsYUFBYTtBQUNiLHFEQUF3QztBQUV4QyxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUU3QixNQUFNLE9BQU8sR0FBRyxJQUFJLGlCQUFPLENBQUMsTUFBTSxFQUFFLGtCQUFrQixDQUFDLENBQUE7QUFDdkQsTUFBTSxHQUFHLEdBQW9CO0lBQ3pCLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU87SUFDNUIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTTtDQUM3QixDQUFDO0FBQ0YsTUFBTSxJQUFJLEdBQUc7SUFDVCxHQUFHLEVBQUUsT0FBTyxDQUFDLEtBQUs7SUFDbEIsU0FBUyxFQUFFLFVBQVU7Q0FDeEIsQ0FBQztBQUNGLElBQUksNkJBQVksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFO0lBQ2xELEdBQUc7SUFDSCxJQUFJO0lBQ0osS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO0lBQ3BCLEdBQUcsc0JBQU07Q0FDWixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgXCJzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXJcIjtcbmltcG9ydCAqIGFzIGNkayBmcm9tIFwiYXdzLWNkay1saWJcIjtcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwiLi4vY29uc3RydWN0cy9jb250ZXh0XCI7XG5pbXBvcnQgeyBNYkluZnJhU3RhY2sgfSBmcm9tIFwiLi4vc3RhY2tzL21iLWluZnJhLXN0YWNrXCI7XG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi8uLi9pbmZyYS5jb25maWdcIjtcblxuY29uc3QgY2RrQXBwID0gbmV3IGNkay5BcHAoKTtcblxuY29uc3QgY29udGV4dCA9IG5ldyBDb250ZXh0KGNka0FwcCwgXCJtYi1pbmZyYS1jb250ZXh0XCIpXG5jb25zdCBlbnY6IGNkay5FbnZpcm9ubWVudCA9IHtcbiAgICBhY2NvdW50OiBjb250ZXh0LmVudi5hY2NvdW50LFxuICAgIHJlZ2lvbjogY29udGV4dC5lbnYucmVnaW9uLFxufTtcbmNvbnN0IHRhZ3MgPSB7XG4gICAgZW52OiBjb250ZXh0LnN0YWdlLFxuICAgIG1hbmFnZWRCeTogXCJtYi1pbmZyYVwiLFxufTtcbm5ldyBNYkluZnJhU3RhY2soY2RrQXBwLCBjb250ZXh0LmNvbmZpZy5wcm9qZWN0Lm5hbWUsIHtcbiAgICBlbnYsXG4gICAgdGFncyxcbiAgICBzdGFnZTogY29udGV4dC5zdGFnZSxcbiAgICAuLi5jb25maWcsXG59KTtcbiJdfQ==