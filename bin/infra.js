#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const context_1 = require("../constructs/context");
const mb_infra_stack_1 = require("../stacks/mb-infra-stack");
const cdkApp = new cdk.App();
const context = new context_1.Context(cdkApp, "mb-infra-context");
const env = {
    account: context.env.account,
    region: context.env.region,
};
const tags = {
    env: context.stage,
    managedBy: "mb-infra",
};
new mb_infra_stack_1.MbInfraStack(cdkApp, context.config.project.name, {
    env,
    tags,
    stage: context.stage,
    ...context.config,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mcmEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmZyYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLG1EQUFnRDtBQUNoRCw2REFBd0Q7QUFFeEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFN0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxDQUFBO0FBQ3ZELE1BQU0sR0FBRyxHQUFvQjtJQUN6QixPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPO0lBQzVCLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU07Q0FDN0IsQ0FBQztBQUNGLE1BQU0sSUFBSSxHQUFHO0lBQ1QsR0FBRyxFQUFFLE9BQU8sQ0FBQyxLQUFLO0lBQ2xCLFNBQVMsRUFBRSxVQUFVO0NBQ3hCLENBQUM7QUFDRixJQUFJLDZCQUFZLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRTtJQUNsRCxHQUFHO0lBQ0gsSUFBSTtJQUNKLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSztJQUNwQixHQUFHLE9BQU8sQ0FBQyxNQUFNO0NBQ3BCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcbmltcG9ydCBcInNvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3RlclwiO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gXCIuLi9jb25zdHJ1Y3RzL2NvbnRleHRcIjtcbmltcG9ydCB7IE1iSW5mcmFTdGFjayB9IGZyb20gXCIuLi9zdGFja3MvbWItaW5mcmEtc3RhY2tcIjtcblxuY29uc3QgY2RrQXBwID0gbmV3IGNkay5BcHAoKTtcblxuY29uc3QgY29udGV4dCA9IG5ldyBDb250ZXh0KGNka0FwcCwgXCJtYi1pbmZyYS1jb250ZXh0XCIpXG5jb25zdCBlbnY6IGNkay5FbnZpcm9ubWVudCA9IHtcbiAgICBhY2NvdW50OiBjb250ZXh0LmVudi5hY2NvdW50LFxuICAgIHJlZ2lvbjogY29udGV4dC5lbnYucmVnaW9uLFxufTtcbmNvbnN0IHRhZ3MgPSB7XG4gICAgZW52OiBjb250ZXh0LnN0YWdlLFxuICAgIG1hbmFnZWRCeTogXCJtYi1pbmZyYVwiLFxufTtcbm5ldyBNYkluZnJhU3RhY2soY2RrQXBwLCBjb250ZXh0LmNvbmZpZy5wcm9qZWN0Lm5hbWUsIHtcbiAgICBlbnYsXG4gICAgdGFncyxcbiAgICBzdGFnZTogY29udGV4dC5zdGFnZSxcbiAgICAuLi5jb250ZXh0LmNvbmZpZyxcbn0pO1xuIl19